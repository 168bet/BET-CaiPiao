<!DOCTYPE html>
<html>
<head>
<title>看你有多“疯”</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="author" content="5.9188.com ">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=no" />
<meta name="msapplication-tap-highlight" content="no">
<meta http-equiv="cleartype" content="on">
<!--  <link rel="stylesheet" type="text/css" href="caipai.css" />-->
<link rel="stylesheet" type="text/css" href="act.css" />
</head>
<body >
	<div class="inText" id=handy>
   		<div class="clearfix inms"><span><strong></strong> 2元赢千万</span><div>换一注</div><div>自选</div></div>
       	<div class="kjball clearfix" id=ball><div>08</div><div>08</div><div>08</div><div>08</div><div>08</div><div>08</div><div class="blue">08</div><a href="javascript:;">购买</a></div>
   	</div>
   	
   	<article class="ssqText" style="display:none;position:absolute;z-index:20">
	        	<div id="cpttz" class="relative" >
	            <div id="pt_buyChoice">
	            <div class="relative pdLeft08" id="ball_red" style='z-index:1'>	
	            	<div class="ssqBall"><cite>01</cite><cite>02</cite><cite>03</cite><cite>04</cite><cite>05</cite><cite>06</cite><cite>07</cite><cite>08</cite><cite>09</cite><cite>10</cite><cite>11</cite><cite>12</cite><cite>13</cite><cite>14</cite><cite>15</cite><cite>16</cite><cite>17</cite><cite>18</cite><cite>19</cite><cite>20</cite><cite>21</cite><cite>22</cite><cite>23</cite><cite>24</cite><cite>25</cite><cite>26</cite><cite>27</cite><cite>28</cite><cite>29</cite><cite>30</cite><cite>31</cite><cite>32</cite><cite>33</cite></div>
	       			<div class="omitnum" style="display:none"><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite></div>
	            </div>
	            <div class="ssqxhblue relative pdLeft08" id="ball_blue" style='z-index:1'>
	            	<div class="ssqBall ssqblueBall"><cite>01</cite><cite>02</cite><cite>03</cite><cite>04</cite><cite>05</cite><cite>06</cite><cite>07</cite><cite>08</cite><cite>09</cite><cite>10</cite><cite>11</cite><cite>12</cite><cite>13</cite><cite>14</cite><cite>15</cite><cite>16</cite></div>
	       			<div class="omitnum" style="display:none"><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite><cite></cite></div>
	            </div>
	            </div>
	        </div>
	        <div id="click_an" style="position:absolute;z-index:20;"><span>取消</span><span>确认</span></div>
	</article>
	
	<article class="ssqText" style="display:none;position:absolute;z-index:20">
				<div class="relative">
	            <div class="relative pdLeft08" id="ball_red" style="z-index:1">	
	            	<div class="ssqBall"><cite class="">01</cite><cite>02</cite><cite>03</cite><cite>04</cite><cite>05</cite><cite>06</cite><cite>07</cite><cite>08</cite><cite>09</cite><cite>10</cite><cite>11</cite><cite>12</cite><cite>13</cite><cite>14</cite><cite>15</cite><cite>16</cite><cite>17</cite><cite>18</cite><cite>19</cite><cite>20</cite><cite>21</cite><cite>22</cite><cite>23</cite><cite>24</cite><cite>25</cite><cite>26</cite><cite>27</cite><cite>28</cite><cite>29</cite><cite>30</cite><cite>31</cite><cite>32</cite><cite>33</cite><cite>34</cite><cite>35</cite></div>
	       			<div class="omitnum" style="display:none"><cite>0</cite><cite>1</cite><cite>6</cite><cite>3</cite><cite>7</cite><cite>3</cite><cite>4</cite><cite>0</cite><cite>10</cite><cite>17</cite><cite>16</cite><cite>9</cite><cite>1</cite><cite>0</cite><cite>8</cite><cite>6</cite><cite>2</cite><cite>12</cite><cite>22</cite><cite>13</cite><cite>2</cite><cite>2</cite><cite>6</cite><cite>20</cite><cite>6</cite><cite>9</cite><cite>8</cite><cite>3</cite><cite>11</cite><cite>0</cite><cite>1</cite><cite>3</cite><cite>1</cite><cite>1</cite><cite>0</cite></div>
	            </div>
	            <div class="ssqxhblue relative pdLeft08" id="ball_blue" style="z-index:1">
	            	<div class="ssqBall ssqblueBall"><cite class="">01</cite><cite>02</cite><cite>03</cite><cite>04</cite><cite>05</cite><cite>06</cite><cite>07</cite><cite>08</cite><cite>09</cite><cite>10</cite><cite>11</cite><cite>12</cite></div>
	       			<div class="omitnum" style="display:none"><cite>8</cite><cite>2</cite><cite>12</cite><cite>21</cite><cite>10</cite><cite>0</cite><cite>0</cite><cite>2</cite><cite>6</cite><cite>4</cite><cite>1</cite><cite>3</cite></div>
	            </div>
	        </div>
	        <div id="click_an" style="position:absolute;z-index:20;"><span>取消</span><span>确认</span></div>
	</article>
	<div id="click_bg" style="position: absolute;background:rgba(0,0,0,0.5);top:0;left:0;width:100%;height:100%;display:none"></div>
	
	<section id=buy_box class="zfpop zfpopNone" style="position:fixed; top:50%; left:5%; z-index:10000;display:none;">
	    <h4>投注确认</h4>
	    <div class="poptzText pdLeft1" id=buy_reveal>
	    	<p>投注金额： <cite class="red">0元</cite></p>
	    	<p>奖金范围： <cite class="red">2.54~4.98元</cite></p>
	    	<div class="clearfix popuseRed"><p class="left">账户余额： <cite class="red">0元</cite></p><!-- <span class="right">使用红包</span> --></div>
	    </div>
	    <div class="zfRed pdTop08" id='buy_hide'></div> 
	    <div class="zfTrue clearfix"><a href="javascript:;" class="zfqx">取消</a><a href="javascript:;" style='display:none;'>去充值</a><a href="javascript:;">预约彩票</a></div>
	</section>
    <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
</body>
<script>

var t = location.href.split('?')[1].split('=')[1];
t == "ssq"? g.loty_id = '01' : g.loty_id = '50';
t == "ssq"? g.comboid ='81' : g.comboid ='82' ;
g.baishu = 1 ;
g.buyType=1;//追号、合买、自购
g.totalMoney = 57;
g.zhushu = 30 ;
//套餐组件
CP.math = {
	random: function (startNum, totalNum, len, a, rep, con, hour) {
		var absNum = Math.abs(startNum - totalNum) + 1;
		var repL = 0;
		var luckCon = con && con.split('') || [];
		if (typeof(rep) == 'object') {
			repL = rep.length;
		}
		if (typeof len == "undefined" || len > absNum || len < 1 || len > absNum - repL) {
			return [];
		}

		var o = {}, _r = new Array(len), i = 0, s, j = 1;
		if (luckCon.length > 0 && CP.Cookie.get(con) !== '') {
			return CP.Cookie.get(con).split(',');
		} else {
			while (i < len) {
				s = parseInt(Math.random() * absNum + startNum);
				if (!a) {
					s = function (a, s) {
						for (var i = 0; i < a.length;) {
							if (a[i++] == s)return null;
							if (typeof(rep) == 'object') {
								for (var j = 0; j < repL; j++) {
									if (s == rep[j])return null;
								}
							}
						}
						return s
					}(_r, s);
					s !== null && (_r[i++] = s);
				} else {
					_r[i++] = s;
				}
			}
			if (luckCon.length > 0) {
				hour = (hour || 1) - (new Date().getMinutes()) / 60;
				CP.Cookie.set(con, _r.join(','), null, null, hour);
			}
		}
		return _r;
	}
}
CP.Util = {
	/**
	 * @description 是否补零
	 * @param {String} source 数值
	 * @param {Int} [length:true] 长度
	 * @example CP.Util.pad(9,2);return 09
	 * @example CP.Util.pad(9,3);return 009
	 * @memberOf CP.Util
	 */
	pad: function (source, length) {
		var pre = "",
			negative = (source < 0),
			string = String(Math.abs(source));
		if (string.length < length) {
			pre = (new Array(length - string.length + 1)).join('0');
		}
		return (negative ? "-" : "") + pre + string;
	},
	
	 /**
		 * @description 根据彩种id 获取信息
		 * @param {String} gid 彩种id required
		 * @param {String} opt 投注号码 required
		 * @example CP.Util.joinString(01, '01,05,07,15,23,32|04;01,12,16,20,22,26|05'); return 01,05,07,15,23,32|04:1:1;01,12,16,20,22,26|05:1:1
		 * @return {str} 返回投注需求的code值
		 */
	joinString : function (gid, opt){
		var opt_ = opt.split(';');
		opt_ = $.map(opt_, function (item) {
			if (gid == '01' || gid == '50' || gid == '07' || gid=="51" || gid=="52") {//双色球 & 大乐透 & 七乐彩 & 七星彩 & 排列五
				return item += ':1:1';
			}
		})
		return opt_.join(';');
	}
}

//大乐透，双色球套餐
CP.Home = function () {
	var j_ = '';
	var n_ = new Date();//本地时间
	var tag = 'ssq';
	var url_ = '';
	var a = {
			jxNum: function(obj, tag){
				if(tag == 'ssq'){//机选双色球
					var ssq = CP.math.random(1,33,6),i;
					ssq = ssq.slice(0,6).sort(function(a,b){return a-b;});
					for(i=0; i<6; i++){
						obj[i].innerHTML=CP.Util.pad(ssq[i],2);
					}
					var ssq_b = CP.math.random(1,
							16,1);//蓝球
					obj[6].value=CP.Util.pad(ssq_b[0],2);
				}else{//大乐透
					var dlt = CP.math.random(1,35,5),i;
					dlt = dlt.slice(0,5).sort(function(a,b){return a-b;});
					for(i=0; i<5; i++){
						obj[i].innerHTML=CP.Util.pad(dlt[i],2);
					}
					var dlt_b = CP.math.random(1,12,2);
					dlt_b = dlt_b.slice(0,2).sort(function(a,b){return a-b;});
					obj[5].innerHTML=CP.Util.pad(dlt_b[0],2);
					obj[6].innerHTML=CP.Util.pad(dlt_b[1],2);
				}
			},
			setJx: function () {//机选一注
                clearInterval(j_);
                var g = 0,
                q = 100;
                $('#ball div').addClass('rotate_jx');
                //$('#ball em input').addClass('rotate_jx');
                
                if(t =="ssq"){
                	document.title="双色球套餐";
                }else{
                	document.title="大乐透套餐";
                }
                a.jxNum($('#ball div'),t);
                j_ = setInterval(function () {
                    /*  $('#ball em:eq(' + g + ')' ).removeClass('rotate_jx');//给每个球添加动画效果*/
                    $('#ball div:eq(' + g + ')' ).removeClass('rotate_jx');
                    g++;
                    if (g > 6) {return false;}
                }, q);
			},
	}
	var oclick ={
			/*点击球[[*/
			clickBall : function(_this,on){
				$(_this).is('.'+on)?$(_this).removeClass():$(_this).addClass(on).addClass('ball_scale');//添加类名
				o.countTotal();//计算注数、金额
			},
			/*高亮球 [[*/
			highLight : function(_arr,dom){
				o.clear($(dom+' cite'));//清除原有高亮球
				for(var j=0,l1=_arr.length;j<l1;j++){
					$(dom+' cite').eq(parseInt(_arr[j],10)-1).addClass('cur');
				}
			},
			/*清楚所有选号[[*/
			clear : function(dom){
				dom.each(function(){$(this).removeClass();});
				o.countTotal();//计算注数、金额
			},
	}
	
    var getArgument = function(t){
		var buy = {};
		var code = CP.Util.joinString(g.loty_id, g.codes);//code值拼接
		switch(t){
			/* 1:自购 2:合买 3:追号 */
			case 1:
				buy = {//投注参数
						
						payUrl:    '/trade/buyDiscountCombo.go',//投注接口
						comboid:   g.comboid,//套餐id
						gid:       g.loty_id,//彩种id
						//pid:       g.qihao_id,//期号
						codes:     g.codes,//投注内容
						//muli:      g.beishu,//倍数
						//countMoney:g.totalMoney,//方案金额
						//orderType:'dg'//代购
				};
				break;
		}
		return buy;
	}
	
	var sjcode = function(){
		var codes=[];
		for(var i=0;i<$("#ball div").length-1;i++){
			codes.push($("#ball div").eq(i).html());
		}
		var cod = $("#ball div").eq(6).html();
		var ab = codes.join(',')+'|'+cod;
		g.codes = ab ;
	}
	
	/*购买验证[[*/
	var dobuy= function(t){
		var info = '';
		if(g.zhushu<1){//投注列表没有内容
			info = '请至少选择一注彩票';
		}else if(!g.qishu){
			info = '请输入期数';
		}else if(!g.beishu){
			info = '请输入倍数';
		}
		if(info!=''){alert(info);return}
		if(t){window.location.href = "#type=fun&fun=CP.SZC.doHm";}else{dopay();}
	}
	
	/*拼凑购买弹窗需要的参数[[*/
	var dopay=function(t){
		t=="ssq"? g.loty_id = '01' : g.loty_id = '50'
		var _obj = getArgument(g.buyType);
		var cMoney = '';
		t ? cMoney = g.hmMoney : cMoney = g.totalMoney;
		var data = {//支付弹框参数
				gid:     g.loty_id,//彩种id
				cMoney:  cMoney,//需支付金额
				payPara: _obj//jQuery.param(param)
		};
		alert('提交中，请稍后！','loading');
		CP.info(function(options){
			remove_alert();
			if (options) {jQuery.extend(data, options);}
			CP.Popup.buybox(data);
		});
		/* sessionStorage.removeItem(lotteryType); */
	}
	
	/* 初始化 */
	var init=function(){
		$(".ssqText").hide();
		$('#ball_red').find('div:eq(0) cite').Touch({fun:function(el){ oclick.clickBall(el,'cur');}});
		$('#ball_blue').find('div:eq(0) cite').Touch({fun:function(el){ oclick.clickBall(el,'cur');}});
		$("#ball a").bind(start_ev,function(){dobuy();});
		a.setJx();//双色球、大乐透机选
		sjcode();//每次的号码保存在g.condes中
		$('#handy').on('click','div:eq(0) div:eq(0)',function(){//机选一注
			$("#ball").find("div").show();
			t=="ssq"?$(".ssqText").eq(0).hide():$(".ssqText").eq(1).hide()
			a.setJx();
			sjcode()
		});
		$('.inms').on('click','div:eq(1)',function(){//自选
			//$("#ball").find("div").hide();
			$("#click_bg").show();
			t=="ssq"?$(".ssqText").eq(0).show():$(".ssqText").eq(1).show();
			/*  $("#click_an").show();*/
		});
		$('#click_an').on('click','span:eq(0)' ,function(){
			$("#click_bg").hide();
			$(".ssqText").find("cite").removeClass();
			t=="ssq"?$(".ssqText").eq(0).hide():$(".ssqText").eq(1).hide()
			$("#ball").find("div").show();
		})
		$('#click_an').on('click','span:eq(1)' ,function(){
			$("#click_bg").hide();
			t=="ssq"?$(".ssqText").eq(0).hide():$(".ssqText").eq(1).hide()
			$("#ball").find("div").show();
			
		})
		
	}
	init();
}()
	
</script>	
</html>